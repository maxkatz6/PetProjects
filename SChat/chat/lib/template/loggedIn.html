<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE HTML >
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="[LANG_CODE/]" lang="[LANG_CODE/]" dir="[BASE_DIRECTION/]">
<head>
    <!--meta name="viewport" content="initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,width=device-width,user-scalable=no" /-->
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Socio!PARTY</title>
    <link rel="stylesheet" type="text/css" href="css/global.css?[VN/]"/>
    <link rel="stylesheet" type="text/css" href="css/fonts.css?[VN/]"/>
    <link rel="stylesheet" type="text/css" href="css/print.css"/>
    [STYLE_SHEETS/]
    <!--[if lt IE 8]><script type="text/javascript"> var isIElt8 = true; </script><![endif]-->
    <script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
    <script src="js/jquery.colorPicker.min.js" type="text/javascript" charset="UTF-8"></script>
    <script src="js/chat.js?[VN/]" type="text/javascript" charset="UTF-8"></script>
    <script src="js/lang/[LANG_CODE/].js" type="text/javascript" charset="UTF-8"></script>
    <script src="js/config.js?[VN/]" type="text/javascript" charset="UTF-8"></script>
    <script src="js/FABridge.js" type="text/javascript" charset="UTF-8"></script>
    <script type="text/javascript">
        // <![CDATA[
        ajaxChat.view = {
            bindPopups: function() {
                this.bindButtonToPopup('bbCodeEmoticon', 'emoticonsContainer');
            },
            bindButtonToPopup: function(buttonID, popupID) {
                var buttonElement = document.getElementById(buttonID),
                    popupElement = document.getElementById(popupID);

                if (!buttonElement || !popupElement) {
                    return;
                }

                if (!buttonElement.linkedPopupID) { // For IE<9 we need to avoid re-attaching events.
                    buttonElement.linkedPopupID = popupID;
                    ajaxChat.addEvent(buttonElement, 'click', this.toggleButton);
                }
            },
            toggleButton: function(e) {
                // Workaround for IE<9.
                // If you don't care about IE8, remove the crud and use "this" to find the target.
                e = e || window.event;
                var target = e.target || e.srcElement;
                target.className = (target.className === 'button' ? 'button off' : 'button');
                ajaxChat.showHide(target.linkedPopupID);
            },

            toggleContainer: function(containerID, hideContainerIDs) {
                if (hideContainerIDs) {
                    for (var i = 0; i < hideContainerIDs.length; i++) {
                        ajaxChat.showHide(hideContainerIDs[i], 'none');
                    }
                }
                ajaxChat.showHide(containerID);
            }

        };

        function initialize() {

            if (helper.isMobile()) {
                ajaxChat.showHide('onlineListContainer', 'none');
                ajaxChat.showHide('settingsContainer', 'none');
                ajaxChat.showHide('helpContainer', 'none');
            }

            ajaxChat.view.bindPopups();

            ajaxChat.updateButton('audio', 'audioButton');
            ajaxChat.updateButton('autoScroll', 'autoScrollButton');
            document.getElementById('msgColorsSetting').checked = ajaxChat.getSetting('msgColors');
            document.getElementById('nickColorsSetting').checked = ajaxChat.getSetting('nickColors');
            document.getElementById('gradiensSetting').checked = ajaxChat.getSetting('gradiens');
            document.getElementById('bbCodeSetting').checked = ajaxChat.getSetting('bbCode');
            document.getElementById('hyperLinksSetting').checked = ajaxChat.getSetting('hyperLinks');
            document.getElementById('emoticonsSetting').checked = ajaxChat.getSetting('emoticons');
            
            $.fn.colorPicker.defaults.colors = sConfig.colorCodes;
            $('#fontColorSetting').val(ajaxChat.getSetting('fontColor')).colorPicker({showHexField: false});
            $('#nickColorSetting').val(ajaxChat.getSetting('nickColor')).colorPicker({showHexField: false});
        

            for (var i = 0; i < document.getElementById('audioVolumeSetting').options.length; i++) {
                if (document.getElementById('audioVolumeSetting').options[i].value === ajaxChat.getSetting('audioVolume')) {
                    document.getElementById('audioVolumeSetting').options[i].selected = true;
                    break;
                }
            }
            ajaxChat.fillSoundSelection('soundReceiveSetting', ajaxChat.getSetting('soundReceive'));
            ajaxChat.fillSoundSelection('soundSendSetting', ajaxChat.getSetting('soundSend'));
            ajaxChat.fillSoundSelection('soundEnterSetting', ajaxChat.getSetting('soundEnter'));
            ajaxChat.fillSoundSelection('soundLeaveSetting', ajaxChat.getSetting('soundLeave'));
            ajaxChat.fillSoundSelection('soundChatBotSetting', ajaxChat.getSetting('soundChatBot'));
            ajaxChat.fillSoundSelection('soundErrorSetting', ajaxChat.getSetting('soundError'));
            ajaxChat.fillSoundSelection('soundPrivateSetting', ajaxChat.getSetting('soundPrivate'));
            //document.getElementById('commandAction').value = ajaxChat.lang['userMenuAction'];
        }

        sConfig.loginChannelID = parseInt('[LOGIN_CHANNEL_ID/]');
        sConfig.sessionName = '[SESSION_NAME/]';
        sConfig.cookieExpiration = parseInt('[COOKIE_EXPIRATION/]');
        sConfig.cookiePath = '[COOKIE_PATH/]';
        sConfig.cookieDomain = '[COOKIE_DOMAIN/]';
        sConfig.cookieSecure = '[COOKIE_SECURE/]';
        sConfig.chatBotName = decodeURIComponent('[CHAT_BOT_NAME/]');
        sConfig.chatBotID = '[CHAT_BOT_ID/]';
        sConfig.allowUserMessageDelete = parseInt('[ALLOW_USER_MESSAGE_DELETE/]');
        sConfig.inactiveTimeout = parseInt('[INACTIVE_TIMEOUT/]');
        sConfig.privateChannelDiff = parseInt('[PRIVATE_CHANNEL_DIFF/]');
        sConfig.privateMessageDiff = parseInt('[PRIVATE_MESSAGE_DIFF/]');
        sConfig.showChannelMessages = parseInt('[SHOW_CHANNEL_MESSAGES/]');
        sConfig.messageTextMaxLength = parseInt('[MESSAGE_TEXT_MAX_LENGTH/]');
        sConfig.socketServerEnabled = parseInt('[SOCKET_SERVER_ENABLED/]');
        sConfig.socketServerHost = decodeURIComponent('[SOCKET_SERVER_HOST/]');
        sConfig.socketServerPort = parseInt('[SOCKET_SERVER_PORT/]');
        sConfig.socketServerChatID = parseInt('[SOCKET_SERVER_CHAT_ID/]');
        
        ajaxChat.init(ajaxChatLang, true, true, true, initialize);
        
        window.onblur = function(){
            ajaxChat.infocus = false;
        };
        window.onfocus = function(){
            ajaxChat.infocus = true;
            document.title = 'Socio!PARTY';
        };
        // ]]>
    </script>
</head>

<body class="ajax-chat">
<div id="content">
<h1 id="headline">
    <a style="color: inherit; text-decoration: none;" href="/">Socio!PARTY</a>
</h1>
<div id="logoutChannelContainer">
    <a id="showUserListButton" style="background-position:-46px -22px" href="javascript:ajaxChat.toggleArrowButton('onlineListContainer', 'showUserListButton');"></a>
    <input type="button" id="logoutButton" value="[LANG]logout[/LANG]" onclick=" ajaxChat.logout(); "/>
    <div id="logoutChannelInner" style="overflow: hidden">
        <label for="channelSelection">[LANG]channel[/LANG]:</label>
        <select id="channelSelection" onchange=" ajaxChat.switchChannel(this.options[this.selectedIndex].value); ">[CHANNEL_OPTIONS/]</select>
    </div>
</div>
<div id="optionsContainer">
    <input type="image" src="img/pixel.gif" class="button" id="helpButton" alt="[LANG]toggleHelp[/LANG]" title="[LANG]toggleHelp[/LANG]" onclick=" ajaxChat.view.toggleContainer('helpContainer', ['onlineListContainer', 'settingsContainer']); "/>
    <input type="image" src="img/pixel.gif" class="button" id="settingsButton" alt="[LANG]toggleSettings[/LANG]" title="[LANG]toggleSettings[/LANG]" onclick=" ajaxChat.view.toggleContainer('settingsContainer', ['onlineListContainer', 'helpContainer']); "/>
    <input type="image" src="img/pixel.gif" class="button" id="onlineListButton" alt="[LANG]toggleOnlineList[/LANG]" title="[LANG]toggleOnlineList[/LANG]" onclick=" ajaxChat.view.toggleContainer('onlineListContainer', ['settingsContainer', 'helpContainer']); "/>
    <input type="image" src="img/pixel.gif" class="button" id="audioButton" alt="[LANG]toggleAudio[/LANG]" title="[LANG]toggleAudio[/LANG]" onclick=" ajaxChat.toggleSetting('audio', 'audioButton'); "/>
    <input type="image" src="img/pixel.gif" class="button" id="autoScrollButton" alt="[LANG]toggleAutoScroll[/LANG]" title="[LANG]toggleAutoScroll[/LANG]" onclick=" ajaxChat.toggleSetting('autoScroll', 'autoScrollButton'); "/>
</div>
<div id="mainPanelContainer">

<div id="onlineListContainer">
    <h3>[LANG]onlineUsers[/LANG]</h3>
    <div id="onlineList"></div>
</div>
<div id="helpContainer" style="display: none;">
    <h3>[LANG]help[/LANG]</h3>
    [HELPLIST/]
</div>
<div id="settingsContainer" style="display: none;">
    <h3>[LANG]settings[/LANG]</h3>
    <div id="settingsList">
        <dl>
            <dt><label for="styleSelection">[LANG]style[/LANG]:</label></dt>
            <dd><select id="styleSelection" onchange=" ajaxChat.setActiveStyleSheet(ajaxChat.getSelectedStyle()); ">[STYLE_OPTIONS/]</select></dd>
        </dl>
        <dl>
            <dt><label for="languageSelection">[LANG]language[/LANG]:</label></dt>
            <dd><select id="languageSelection" onchange=" ajaxChat.switchLanguage(this.value); ">[LANGUAGE_OPTIONS/]</select></dd>
        </dl>
        <dl>
            <dt><label for="bbCodeSetting">[LANG]settingsBBCode[/LANG]</label></dt>
            <dd><input type="checkbox" id="bbCodeSetting" onclick=" ajaxChat.setSetting('bbCode', this.checked); "/></dd>
        </dl>
        <dl>
            <dt><label for="hyperLinksSetting">[LANG]settingsHyperLinks[/LANG]</label></dt>
            <dd><input type="checkbox" id="hyperLinksSetting" onclick=" ajaxChat.setSetting('hyperLinks', this.checked); "/></dd>
        </dl>
        <dl>
            <dt><label for="emoticonsSetting">[LANG]settingsEmoticons[/LANG]</label></dt>
            <dd><input type="checkbox" id="emoticonsSetting" onclick=" ajaxChat.setSetting('emoticons', this.checked); "/></dd>
        </dl>
        <dl>
            <dt><label for="msgColorsSetting">Разрешить цветные сообщения:</label></dt>
            <dd><input type="checkbox" id="msgColorsSetting" onclick=" ajaxChat.setSetting('msgColors', this.checked); "/></dd>
        </dl>
        <dl>
            <dt><label for="nickColorsSetting">Разрешить цветные ники:</label></dt>
            <dd><input type="checkbox" id="nickColorsSetting" onclick=" ajaxChat.setSetting('nickColors', this.checked); "/></dd>
        </dl>
        <dl>
            <dt><label for="gradiensSetting">Разрешить градиентный текст:</label></dt>
            <dd><input type="checkbox" id="gradiensSetting" onclick=" ajaxChat.setSetting('gradiens', this.checked); "/></dd>
        </dl>
        <dl>
            <dt><label for="fontColorSetting">Цвет сообщений</label></dt>
            <dd><input type="text" name="fontColorSetting" id="fontColorSetting" onchange="ajaxChat.setFontColor(this.value); "/></dd>
        </dl>
        <dl>
            <dt><label for="nickColorSetting">Цвет никнейма</label></dt>
            <dd><input type="color" id="nickColorSetting" onchange="ajaxChat.setSetting('nickColor', this.value); "/></dd>
        </dl>
        <dl>
            <dt><label for="audioVolumeSetting">[LANG]settingsAudioVolume[/LANG]</label></dt>
            <dd>
                <select class="left" id="audioVolumeSetting" onchange=" ajaxChat.setAudioVolume(this.options[this.selectedIndex].value); ">
                    <option value="1.0">100 %</option>
                    <option value="0.9">90 %</option>
                    <option value="0.8">80 %</option>
                    <option value="0.7">70 %</option>
                    <option value="0.6">60 %</option>
                    <option value="0.5">50 %</option>
                    <option value="0.4">40 %</option>
                    <option value="0.3">30 %</option>
                    <option value="0.2">20 %</option>
                    <option value="0.1">10 %</option>
                </select>
            </dd>
        </dl>
        <dl>
            <dt><label for="soundReceiveSetting">[LANG]settingsSoundReceive[/LANG]</label></dt>
            <dd><select id="soundReceiveSetting" onchange=" ajaxChat.setSetting('soundReceive', this.options[this.selectedIndex].value); "><option value="">-</option></select><input type="image" src="img/pixel.gif" class="button playback" alt="[LANG]playSelectedSound[/LANG]" title="[LANG]playSelectedSound[/LANG]" onclick=" ajaxChat.playSound(this.previousSibling.options[this.previousSibling.selectedIndex].value); "/></dd>
        </dl>
        <dl>
            <dt><label for="soundSendSetting">[LANG]settingsSoundSend[/LANG]</label></dt>
            <dd><select id="soundSendSetting" onchange=" ajaxChat.setSetting('soundSend', this.options[this.selectedIndex].value); "><option value="">-</option></select><input type="image" src="img/pixel.gif" class="button playback" alt="[LANG]playSelectedSound[/LANG]" title="[LANG]playSelectedSound[/LANG]" onclick=" ajaxChat.playSound(this.previousSibling.options[this.previousSibling.selectedIndex].value); "/></dd>
        </dl>
        <dl>
            <dt><label for="soundEnterSetting">[LANG]settingsSoundEnter[/LANG]</label></dt>
            <dd><select id="soundEnterSetting" onchange=" ajaxChat.setSetting('soundEnter', this.options[this.selectedIndex].value); "><option value="">-</option></select><input type="image" src="img/pixel.gif" class="button playback" alt="[LANG]playSelectedSound[/LANG]" title="[LANG]playSelectedSound[/LANG]" onclick=" ajaxChat.playSound(this.previousSibling.options[this.previousSibling.selectedIndex].value); "/></dd>
        </dl>
        <dl>
            <dt><label for="soundLeaveSetting">[LANG]settingsSoundLeave[/LANG]</label></dt>
            <dd><select id="soundLeaveSetting" onchange=" ajaxChat.setSetting('soundLeave', this.options[this.selectedIndex].value); "><option value="">-</option></select><input type="image" src="img/pixel.gif" class="button playback" alt="[LANG]playSelectedSound[/LANG]" title="[LANG]playSelectedSound[/LANG]" onclick=" ajaxChat.playSound(this.previousSibling.options[this.previousSibling.selectedIndex].value); "/></dd>
        </dl>
        <dl>
            <dt><label for="soundChatBotSetting">[LANG]settingsSoundChatBot[/LANG]</label></dt>
            <dd><select id="soundChatBotSetting" onchange=" ajaxChat.setSetting('soundChatBot', this.options[this.selectedIndex].value); "><option value="">-</option></select><input type="image" src="img/pixel.gif" class="button playback" alt="[LANG]playSelectedSound[/LANG]" title="[LANG]playSelectedSound[/LANG]" onclick=" ajaxChat.playSound(this.previousSibling.options[this.previousSibling.selectedIndex].value); "/></dd>
        </dl>
        <dl>
            <dt><label for="soundErrorSetting">[LANG]settingsSoundError[/LANG]</label></dt>
            <dd><select id="soundErrorSetting" onchange=" ajaxChat.setSetting('soundError', this.options[this.selectedIndex].value); "><option value="">-</option></select><input type="image" src="img/pixel.gif" class="button playback" alt="[LANG]playSelectedSound[/LANG]" title="[LANG]playSelectedSound[/LANG]" onclick=" ajaxChat.playSound(this.previousSibling.options[this.previousSibling.selectedIndex].value); "/></dd>
        </dl>
        <dl>
            <dt><label for="soundPrivateSetting">[LANG]settingsSoundPrivate[/LANG]</label></dt>
            <dd><select id="soundPrivateSetting" onchange=" ajaxChat.setSetting('soundPrivate', this.options[this.selectedIndex].value); "><option value="">-</option></select><input type="image" src="img/pixel.gif" class="button playback" alt="[LANG]playSelectedSound[/LANG]" title="[LANG]playSelectedSound[/LANG]" onclick=" ajaxChat.playSound(this.previousSibling.options[this.previousSibling.selectedIndex].value); "/></dd>
        </dl>
    </div>
</div>
    <div id="chatList"></div>
</div>

<div id="inputFieldContainer">
    <textarea maxlength="1000" style="resize:none;" id="inputField" rows="1" cols="50" title="[LANG]inputLineBreak[/LANG]" onkeydown=" ajaxChat.handleInputFieldKeyDown(event); " onkeyup=" ajaxChat.handleInputFieldKeyUp(event); "></textarea>
</div>
<div id="submitButtonContainer">
    <span id="messageLengthCounter">0/1000</span>
    <input type="button" id="submitButton" value="[LANG]messageSubmit[/LANG]" onclick=" ajaxChat.sendMessage(); "/>
</div>
<div id="bbCodeContainer">
    <input id="commandAction" type="button" value="Действие" onclick="ajaxChat.insertMessageWrapper('/action ');"/>
    <input id="bbCodeBold" type="button" value="b" title="[LANG]bbCodeTitleBold[/LANG]" onclick=" ajaxChat.insertBBCode('b'); " style="font-weight: bold;"/>
    <input id="bbCodeItalic" type="button" value="i" title="[LANG]bbCodeTitleItalic[/LANG]" onclick=" ajaxChat.insertBBCode('i'); " style="font-style: italic;"/>
    <input id="bbCodeStrike" type="button" value="s" onclick=" ajaxChat.insertBBCode('s'); " style="text-decoration: line-through;"/>
    <input id="bbCodeQuote" type="button" value="[LANG]bbCodeLabelQuote[/LANG]" title="[LANG]bbCodeTitleQuote[/LANG]" onclick=" ajaxChat.insertBBCode('quote'); "/>
    <input id="bbCodeEmoticon" type="button" title="[LANG]bbCodeTitleEmoticon[/LANG]" value=":)"/>
</div>
    <div id="emoticonsContainer" dir="ltr" style="display: none;" class="popup"></div>
</div>
<div id="flashInterfaceContainer"></div>
</body>
</html>